!function(e){('undefined'!=typeof window?window:'undefined'!=typeof global?global:'undefined'!=typeof self?self:this).usefetch=e()}(function(){var e,t=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},r=function(e){return void 0===e},o=function(e,t){return new Promise(function(r){setTimeout(r,e,t)})},n=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{configurable:!0,enumerable:!1,value:e,writable:!0}})};function i(e,t,r){Object.defineProperties(this,{name:{value:e||"UseFetchError"},message:{value:t}}),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),null!==r&&Object.assign(this,{status:r.status,statusText:r.statusText,url:r.url}),Object.defineProperty(this,"response",{value:r})}function s(e){i.call(this,"HTTPError","Response code "+e.status+" ("+e.statusText+")",e)}function u(e,t){i.call(this,"ParseError",e.message+" in "+t.url,t)}function a(e){i.call(this,"TimeoutError","Timed out awaiting for "+e+"ms",null)}e={HTTPError:s,ParseError:u,TimeoutError:a},n(i,Error),n(s,i),n(u,i),n(a,i);var c=t,f=r;function l(e){return c(e)?Object.keys(e).reduce(function(t,r){return t[r.toLowerCase()]=e[r],t},{}):{}}var d=e.HTTPError,p=e.ParseError,h=e.TimeoutError,y=o,m=function(e,t){var r=Object.assign({},t,e),o=Object.assign(l((t||{}).headers),l((e||{}).headers));r.json&&(f(o["content-type"])&&(o["content-type"]="application/json"),f(o.accept)&&(o.accept="application/json"));var n=r.body,i=r.method;if(null==n)i=i||"get";else{if(r.json){if(!c(n)&&!Array.isArray(n))throw new TypeError("The `body` option must be a plain Object or Array when the `json` option is used");r.body=JSON.stringify(n)}i=i||"post"}i=i.toUpperCase();var s={retries:"number"==typeof r.retry?r.retry:2,methods:["GET","PUT","HEAD","DEvarE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504]};return c(r.retry)&&Object.assign(s,r.retry),Object.assign(r,{headers:o,method:i,retry:s})},b={ok:!1},T=e.HTTPError,E=e.ParseError,j=e.TimeoutError,w=function(e){return function(t,r){return function(e,t){var r=0;return o(e,t).then(function n(i){if((i===b||!i.ok)&&t.retry.retries>r&&t.retry.methods.includes(t.method)&&t.retry.statusCodes.includes(i.status)){var s=1e3*Math.pow(2,r)+100*Math.random();return r++,y(s).then(function(){return o(e,t)}).then(n)}return i}).then(function(e){if(e===b)throw new h(t.timeout);if(!e.ok&&t.throwHttpErrors)throw new d(e);return e}).then(function(e){return t.json?e.json().then(function(t){return Object.defineProperty(e,"body",{configurable:!1,enumerable:!0,value:t,writable:!1}),e}).catch(function(t){throw new p(t,e)}):e});function o(e,t){return t.timeout>0?Promise.race([self.fetch(e,t),y(t.timeout,b)]):self.fetch(e,t)}}(t,m(r,e))}},P=w({credentials:"same-origin",redirect:"follow",json:!1,retry:2,throwHttpErrors:!0,timeout:0});return P.HTTPError=T,P.ParseError=E,P.TimeoutError=j,P.createFetch=w,P});